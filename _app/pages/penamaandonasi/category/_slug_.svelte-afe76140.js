import{S as R,i as T,s as U,e as v,j as L,t as W,c as y,a as I,l as D,g as z,d as p,N,b as _,f as j,D as w,h as J,v as H,w as G,x as P,p as E,n as C,A as S,k as A,o as K,ap as Q,H as M,aE as X,af as Y,P as Z,m as $,W as x}from"../../../chunks/vendor-cee19796.js";import{H as ee}from"../../../chunks/header-0d8d9ed3.js";import{N as te}from"../../../chunks/NavbarDefault-457f5e15.js";import{l as se}from"../../../chunks/i18n-218d9152.js";import{p as ae}from"../../../chunks/stores-9f16198d.js";import"../../../chunks/variables-50bb92cf.js";import"../../../chunks/HistoryBack-c00fd5ba.js";import"../../../chunks/cart-adc8ede8.js";import"../../../chunks/waStore-3df0da78.js";import"../../../chunks/navbar-812cbf96.js";import"../../../chunks/env-2990e8b0.js";function O(l,t,a){const s=l.slice();return s[12]=t[a],s}function q(l){let t,a,s,i,n,g,h,b,d=(l[5]=="Id"?l[12].campaign:l[12].campaign_en)+"",f,u,o;return{c(){t=v("a"),a=v("div"),s=v("figure"),i=v("img"),h=L(),b=v("figcaption"),f=W(d),u=L(),this.h()},l(c){t=y(c,"A",{href:!0,"sveltekit:prefetch":!0});var e=I(t);a=y(e,"DIV",{class:!0});var r=I(a);s=y(r,"FIGURE",{});var m=I(s);i=y(m,"IMG",{src:!0,alt:!0,class:!0}),h=D(m),b=y(m,"FIGCAPTION",{class:!0});var k=I(b);f=z(k,d),k.forEach(p),m.forEach(p),r.forEach(p),u=D(e),e.forEach(p),this.h()},h(){N(i.src,n=l[12].image)||_(i,"src",n),_(i,"alt",g=l[12].campaign),_(i,"class","rounded-sm"),_(b,"class","text-xs px-0.5"),_(a,"class","mx-1 pb-1 mb-2 bg-white"),_(t,"href",o=`../${l[12].slug}${window.location.search}`),_(t,"sveltekit:prefetch","")},m(c,e){j(c,t,e),w(t,a),w(a,s),w(s,i),w(s,h),w(s,b),w(b,f),w(t,u)},p(c,e){e&1&&!N(i.src,n=c[12].image)&&_(i,"src",n),e&1&&g!==(g=c[12].campaign)&&_(i,"alt",g),e&33&&d!==(d=(c[5]=="Id"?c[12].campaign:c[12].campaign_en)+"")&&J(f,d),e&1&&o!==(o=`../${c[12].slug}${window.location.search}`)&&_(t,"href",o)},d(c){c&&p(t)}}}function B(l){let t,a,s,i;return{c(){t=v("div"),a=v("div"),s=v("img"),this.h()},l(n){t=y(n,"DIV",{class:!0});var g=I(t);a=y(g,"DIV",{class:!0});var h=I(a);s=y(h,"IMG",{src:!0,alt:!0,width:!0,height:!0}),h.forEach(p),g.forEach(p),this.h()},h(){N(s.src,i="https://infak.id/images/spinner.gif")||_(s,"src",i),_(s,"alt","Loading"),_(s,"width","50"),_(s,"height","50"),_(a,"class","fixed bottom-28"),_(t,"class","flex items-center justify-center h-20")},m(n,g){j(n,t,g),w(t,a),w(a,s)},d(n){n&&p(t)}}}function F(l){let t,a;return t=new X({props:{element:l[4],$$slots:{default:[re]},$$scope:{ctx:l}}}),t.$on("intersect",function(){Y(l[7](l[0].length))&&l[7](l[0].length).apply(this,arguments)}),{c(){H(t.$$.fragment)},l(s){G(t.$$.fragment,s)},m(s,i){P(t,s,i),a=!0},p(s,i){l=s;const n={};i&16&&(n.element=l[4]),i&32784&&(n.$$scope={dirty:i,ctx:l}),t.$set(n)},i(s){a||(E(t.$$.fragment,s),a=!0)},o(s){C(t.$$.fragment,s),a=!1},d(s){S(t,s)}}}function re(l){let t;return{c(){t=v("hr")},l(a){t=y(a,"HR",{})},m(a,s){j(a,t,s),l[9](t)},p:Z,d(a){a&&p(t),l[9](null)}}}function le(l){let t,a;return t=new te({}),{c(){H(t.$$.fragment)},l(s){G(t.$$.fragment,s)},m(s,i){P(t,s,i),a=!0},i(s){a||(E(t.$$.fragment,s),a=!0)},o(s){C(t.$$.fragment,s),a=!1},d(s){S(t,s)}}}function ie(l){let t,a,s,i,n,g,h,b;t=new ee({props:{isLogo:!0,isLang:!0,isSecondHeader:!0,title:l[2]}});let d=l[0],f=[];for(let e=0;e<d.length;e+=1)f[e]=q(O(l,d,e));let u=l[1]&&!l[3]&&B(),o=!l[3]&&F(l),c=l[6]!="1092022001302"&&le();return{c(){H(t.$$.fragment),a=L(),s=v("div");for(let e=0;e<f.length;e+=1)f[e].c();i=L(),u&&u.c(),n=L(),o&&o.c(),g=L(),c&&c.c(),h=A(),this.h()},l(e){G(t.$$.fragment,e),a=D(e),s=y(e,"DIV",{class:!0});var r=I(s);for(let m=0;m<f.length;m+=1)f[m].l(r);r.forEach(p),i=D(e),u&&u.l(e),n=D(e),o&&o.l(e),g=D(e),c&&c.l(e),h=A(),this.h()},h(){_(s,"class","grid grid-cols-2 gap-0 pb-20")},m(e,r){P(t,e,r),j(e,a,r),j(e,s,r);for(let m=0;m<f.length;m+=1)f[m].m(s,null);j(e,i,r),u&&u.m(e,r),j(e,n,r),o&&o.m(e,r),j(e,g,r),c&&c.m(e,r),j(e,h,r),b=!0},p(e,[r]){const m={};if(r&4&&(m.title=e[2]),t.$set(m),r&33){d=e[0];let k;for(k=0;k<d.length;k+=1){const V=O(e,d,k);f[k]?f[k].p(V,r):(f[k]=q(V),f[k].c(),f[k].m(s,null))}for(;k<f.length;k+=1)f[k].d(1);f.length=d.length}e[1]&&!e[3]?u||(u=B(),u.c(),u.m(n.parentNode,n)):u&&(u.d(1),u=null),e[3]?o&&($(),C(o,1,1,()=>{o=null}),K()):o?(o.p(e,r),r&8&&E(o,1)):(o=F(e),o.c(),E(o,1),o.m(g.parentNode,g))},i(e){b||(E(t.$$.fragment,e),E(o),E(c),b=!0)},o(e){C(t.$$.fragment,e),C(o),C(c),b=!1},d(e){S(t,e),e&&p(a),e&&p(s),Q(f,e),e&&p(i),u&&u.d(e),e&&p(n),o&&o.d(e),e&&p(g),c&&c.d(e),e&&p(h)}}}async function ke({params:l,fetch:t}){const a=await t("/donasi/category/category.json?slug="+l.slug);if(a.ok){const s=await a.json();return{props:{isLoading:!1,resultCategory:s.all,category_detail:s.category_detail,category:l.slug}}}}function ne(l,t,a){let s,i;M(l,ae,r=>a(11,s=r)),M(l,se,r=>a(5,i=r));let{resultCategory:n=[]}=t,{category_detail:g=[]}=t,{isLoading:h=!1}=t,{category:b}=t,d=!1,f,u=10,o=s.url.searchParams.get("source");async function c(){if(h||n.length<u)return;a(1,h=!0);const r=await fetch(`/donasi/category/category.json?skip=${u}&slug=${b}`,{method:"GET"});if(r.status!==200){a(1,h=!1),a(3,d=!0);return}let m=await r.json();m.all.length>0?(n.push(...m.all),a(0,n),u=u+m.all.length,a(1,h=!1)):a(3,d=!0)}function e(r){x[r?"unshift":"push"](()=>{f=r,a(4,f)})}return l.$$set=r=>{"resultCategory"in r&&a(0,n=r.resultCategory),"category_detail"in r&&a(8,g=r.category_detail),"isLoading"in r&&a(1,h=r.isLoading),"category"in r&&a(2,b=r.category)},[n,h,b,d,f,i,o,c,g,e]}class ve extends R{constructor(t){super();T(this,t,ne,ie,U,{resultCategory:0,category_detail:8,isLoading:1,category:2})}}export{ve as default,ke as load};