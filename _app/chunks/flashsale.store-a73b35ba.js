import{_ as u,C as r}from"./vendor-cee19796.js";import{v as h}from"./variables-50bb92cf.js";const t=()=>{const a="https://uhukqegexvijaqcmqxak.supabase.co",e=h.API_KEY_SUPA;return u(a,e)},o=r([]),l=r([]),p=r(!1);let n=null,c=null;const g=async()=>{try{const{data:a,error:e}=await t().from("flashsale").select("*").eq("active",!0);if(e){console.error("Error fetching data:",e);return}o.set(a)}catch(a){console.error("Error fetching data:",a.message)}},m=async a=>{try{const{data:e,error:s}=await t().from("campaign").select("*").eq("active",!0).eq("flashsale_id",a);if(s){console.error("Error fetching data:",s);return}l.set(e)}catch(e){console.error("Error fetching data:",e.message)}},d=()=>(t().channel("custom-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"flashsale"},a=>{o.update(e=>[a.new])}).subscribe(),()=>{n==null||n.unsubscribe()}),v=()=>(t().channel("custom-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"campaign"},a=>{l.update(e=>[...e.filter(i=>i.id!=a.new.id),a.new])}).subscribe(),()=>{c==null||c.unsubscribe()});export{o as a,g as b,v as c,p as d,l as e,m as f,t as g,d as s};